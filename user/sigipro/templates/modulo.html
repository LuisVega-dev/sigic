{% extends "base.html" %}

{% block title %}Materiales Educativos Interculturales - SIGI{% endblock %}

{% block content %}
<div class="educativo-container">
    <header class="educativo-header">
        <h1>üìö Materiales Educativos Interculturales</h1>
        <p class="lead">Explora recursos educativos dise√±ados especialmente para estudiantes y docentes del Pueblo Arhuaco. Aqu√≠ encontrar√°s gu√≠as, videos, juegos y actividades en Iku y espa√±ol, que fortalecen el conocimiento sobre nuestro territorio y cultura.</p>
    </header>

    <div class="categorias-grid">
        <!-- Gu√≠as de Estudio -->
        <div class="categoria-card" id="guias-card">
            <div class="categoria-icono">üìò</div>
            <h3>Gu√≠as de estudio</h3>
            <p>Material did√°ctico en formato PDF para el aprendizaje aut√≥nomo.</p>
            <button class="btn-recursos" id="btn-guias">Ver gu√≠as</button>
            
            <!-- Contenedor de gu√≠as (inicialmente oculto) -->
            <div id="contenedor-guias" style="display: none; margin-top: 20px;">
                <h4 style="text-align: center; margin-bottom: 20px; color: var(--primary-color);">Gu√≠as Disponibles</h4>
                
                <!-- Lista de gu√≠as -->
                <div class="guias-lista">
                    <!-- Las gu√≠as se cargar√°n aqu√≠ din√°micamente -->
                </div>
                
                <!-- Formulario para subir nuevas gu√≠as -->
                <div class="subir-guia" style="margin-top: 30px; padding-top: 20px; border-top: 1px solid #eee;">
                    <h5 style="color: var(--primary-color);">Subir nueva gu√≠a</h5>
                    <form id="form-subir-guia" enctype="multipart/form-data" style="margin-top: 15px;">
                        <div class="form-group">
                            <label for="titulo-guia">T√≠tulo de la gu√≠a:</label>
                            <input type="text" id="titulo-guia" class="form-control" required>
                        </div>
                        <div class="form-group" style="margin-top: 10px;">
                            <label for="archivo-guia">Seleccionar archivo PDF:</label>
                            <input type="file" id="archivo-guia" class="form-control" accept=".pdf" required>
                        </div>
                        <button type="submit" class="btn-recursos" style="margin-top: 15px; width: 100%;">
                            Subir Gu√≠a
                        </button>
                    </form>
                </div>
            </div>
        </div>

        <!-- Videos Pedag√≥gicos -->
        <div class="categoria-card" id="videos-card">
            <div class="categoria-icono">üé•</div>
            <h3>Videos pedag√≥gicos</h3>
            <p>Contenido audiovisual educativo sobre nuestra cultura y tradiciones.</p>
            <button class="btn-recursos" id="btn-videos">Ver videos</button>
            
            <!-- Contenedor de videos (inicialmente oculto) -->
            <div id="contenedor-videos" style="display: none; margin-top: 20px;">
                <h4 style="text-align: center; margin-bottom: 20px; color: var(--primary-color);">Videos Educativos</h4>
                
                <!-- Lista de videos -->
                <div class="videos-lista">
                    <!-- Los videos se cargar√°n aqu√≠ din√°micamente -->
                </div>
            </div>
        </div>

        <!-- Actividades Interactivas -->
        <div class="categoria-card" id="actividades-card">
            <div class="categoria-icono">üß†</div>
            <h3>Actividades interactivas</h3>
            <p>Ejercicios pr√°cticos para reforzar el aprendizaje de manera din√°mica.</p>
            <button class="btn-recursos" id="btn-actividades">Iniciar actividad</button>
            
            <!-- Contenedor de preguntas (inicialmente oculto) -->
            <div id="contenedor-preguntas" style="display: none; margin-top: 20px; text-align: left;">
                <h4 style="text-align: center; margin-bottom: 20px; color: var(--primary-color);">Preguntas Interactivas</h4>
                
                <!-- Pesta√±as de categor√≠as -->
                <div class="categorias-tabs">
                    <button class="tab-btn active" data-categoria="cultura">Cultura y Costumbres</button>
                    <button class="tab-btn" data-categoria="practicas">Pr√°cticas Culturales</button>
                    <button class="tab-btn" data-categoria="sagrado">Lugar Sagrado</button>
                </div>
                
                <!-- Contenedor de preguntas por categor√≠a -->
                <div class="preguntas-container">
                    <!-- Las preguntas se cargar√°n aqu√≠ din√°micamente -->
                </div>
            </div>
        </div>

        <!-- Juegos Educativos -->
        <div class="categoria-card">
            <div class="categoria-icono">üéÆ</div>
            <h3>Juegos educativos</h3>
            <p>Aprende jugando con nuestras propuestas l√∫dicas en Iku y espa√±ol.</p>
            <a href="#" class="btn-recursos">Jugar ahora</a>
        </div>

        <!-- Trivias Culturales -->
        <div class="categoria-card">
            <div class="categoria-icono">‚ùì</div>
            <h3>Trivias culturales</h3>
            <p>Pon a prueba tus conocimientos sobre la cultura Arhuaca.</p>
            <a href="#" class="btn-recursos">Responder trivia</a>
        </div>
    </div>
</div>

<style>
:root {
    --primary-color: #2c3e50;
    --secondary-color: #3498db;
    --accent-color: #e74c3c;
    --light-bg: #f8f9fa;
    --card-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    --transition: all 0.3s ease;
}

.educativo-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 2rem;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    color: #333;
}

.educativo-header {
    text-align: center;
    margin-bottom: 3rem;
    padding: 1.5rem;
    background-color: #fff;
    border-radius: 10px;
    box-shadow: var(--card-shadow);
}

.educativo-header h1 {
    color: var(--primary-color);
    margin-bottom: 1rem;
    font-size: 2.2rem;
}

.educativo-header p {
    font-size: 1.1rem;
    color: #555;
    max-width: 800px;
    margin: 0 auto;
    line-height: 1.6;
}

.categorias-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 2rem;
    padding: 1rem 0;
}

.categoria-card {
    background: white;
    border-radius: 12px;
    padding: 1.8rem;
    text-align: center;
    box-shadow: var(--card-shadow);
    transition: var(--transition);
    cursor: pointer;
    border: 1px solid #e1e4e8;
    display: flex;
    flex-direction: column;
    height: 100%;
}

.categoria-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
}

.categoria-icono {
    font-size: 2.5rem;
    margin-bottom: 1.2rem;
}

.categoria-card h3 {
    color: var(--primary-color);
    margin: 0.8rem 0;
    font-size: 1.4rem;
}

.categoria-card p {
    color: #666;
    margin-bottom: 1.5rem;
    flex-grow: 1;
    line-height: 1.5;
}

.btn-recursos {
    background-color: var(--secondary-color);
    color: white;
    border: none;
    padding: 0.8rem 1.5rem;
    border-radius: 50px;
    font-weight: 600;
    cursor: pointer;
    transition: var(--transition);
    width: 80%;
    margin: 0 auto;
    font-size: 1rem;
}

.btn-recursos:hover {
    background-color: #2980b9;
    transform: scale(1.05);
}

/* Responsive Design */
@media (max-width: 768px) {
    .categorias-grid {
        grid-template-columns: 1fr;
        gap: 1.5rem;
    }
    
    .educativo-header h1 {
        font-size: 1.8rem;
    }
    
    .educativo-header p {
        font-size: 1rem;
    }
}

/* Estilos para las pesta√±as */
.categorias-tabs {
    display: flex;
    justify-content: center;
    margin-bottom: 20px;
    flex-wrap: wrap;
    gap: 5px;
}

.tab-btn {
    padding: 8px 15px;
    background-color: #f0f0f0;
    border: 1px solid #ddd;
    border-radius: 20px;
    cursor: pointer;
    transition: all 0.3s ease;
    font-size: 0.9rem;
}

.tab-btn.active {
    background-color: var(--secondary-color);
    color: white;
    border-color: var(--secondary-color);
}

/* Estilos para las gu√≠as */
.guias-lista {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 15px;
    margin-bottom: 20px;
}

.guia-item {
    background: #fff;
    border-radius: 8px;
    padding: 15px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    display: flex;
    align-items: center;
    transition: transform 0.3s ease;
}

.guia-item:hover {
    transform: translateY(-3px);
}

.guia-icono {
    font-size: 2rem;
    margin-right: 15px;
    color: var(--secondary-color);
}

.guia-info {
    flex: 1;
}

.guia-info h5 {
    margin: 0 0 5px 0;
    color: var(--primary-color);
}

.guia-info p {
    margin: 0;
    color: #666;
    font-size: 0.85rem;
}

.descargar-btn {
    background: var(--secondary-color);
    color: white;
    border: none;
    border-radius: 4px;
    padding: 5px 10px;
    cursor: pointer;
    font-size: 0.8rem;
    text-decoration: none;
    display: inline-block;
    margin-top: 5px;
}

.descargar-btn:hover {
    background: #0056b3;
}

/* Estilos para el formulario */
.form-group {
    margin-bottom: 15px;
}

.form-control {
    width: 100%;
    padding: 8px 12px;
    border: 1px solid #ddd;
    border-radius: 4px;
    font-size: 1rem;
}

.form-control:focus {
    border-color: var(--primary-color);
    outline: none;
    box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);
}

/* Estilos para los videos */
.videos-lista {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 20px;
    margin-top: 20px;
}

.video-item {
    background: #fff;
    border-radius: 8px;
    overflow: hidden;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    transition: transform 0.3s ease;
}

.video-item:hover {
    transform: translateY(-5px);
}

.video-container {
    position: relative;
    padding-bottom: 56.25%; /* Relaci√≥n de aspecto 16:9 */
    height: 0;
    overflow: hidden;
}

.video-container iframe {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border: none;
}

.video-info {
    padding: 15px;
}

.video-info h5 {
    margin: 0 0 10px 0;
    color: var(--primary-color);
}

.video-info p {
    margin: 0;
    color: #666;
    font-size: 0.9rem;
}

/* Estilos para las preguntas */
.pregunta {
    background-color: #f9f9f9;
    border-radius: 8px;
    padding: 15px;
    margin-bottom: 20px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.05);
}

.pregunta h4 {
    margin-top: 0;
    color: var(--primary-color);
    font-size: 1.1rem;
}

.opciones {
    margin: 15px 0;
}

.opcion {
    display: block;
    padding: 10px 15px;
    margin: 8px 0;
    background-color: white;
    border: 1px solid #ddd;
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.2s ease;
}

.opcion:hover {
    background-color: #f0f8ff;
    border-color: #b3d7ff;
}

.opcion.correcta {
    background-color: #d4edda;
    border-color: #c3e6cb;
    color: #155724;
}

.opcion.incorrecta {
    background-color: #f8d7da;
    border-color: #f5c6cb;
    color: #721c24;
}

.explicacion {
    display: none;
    margin-top: 15px;
    padding: 12px;
    background-color: #e2f3ff;
    border-radius: 6px;
    border-right: 4px solid var(--secondary-color);
    font-size: 0.95rem;
    line-height: 1.5;
}

/* Animaciones */
@keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
}

.categoria-card {
    animation: fadeIn 0.6s ease-out forwards;
    opacity: 0;
}

.categoria-card:nth-child(1) { animation-delay: 0.1s; }
.categoria-card:nth-child(2) { animation-delay: 0.2s; }
.categoria-card:nth-child(3) { animation-delay: 0.3s; }
.categoria-card:nth-child(4) { animation-delay: 0.4s; }
.categoria-card:nth-child(5) { animation-delay: 0.5s; }
</style>

<script>
// Base de datos de preguntas por categor√≠a
const preguntas = {
    cultura: [
        {
            pregunta: "¬øC√≥mo interpretan los Arhuacos el concepto de 'Ley de Origen' y c√≥mo rige su vida cotidiana?",
            opciones: [
                { texto: "Es un conjunto de reglas escritas que deben seguirse al pie de la letra", esCorrecta: false },
                { texto: "Es un sistema de conocimiento ancestral que gu√≠a su relaci√≥n con la naturaleza y la comunidad", esCorrecta: true },
                { texto: "Son tradiciones antiguas que ya no tienen relevancia en la actualidad", esCorrecta: false }
            ],
            explicacion: "La Ley de Origen es el fundamento de la cultura Arhuaca, un sistema de conocimiento que rige su relaci√≥n con la naturaleza, la comunidad y el universo, transmitido por los Mamos."
        },
        {
            pregunta: "¬øQu√© papel juegan los Mamos en la transmisi√≥n del conocimiento espiritual y la toma de decisiones comunitarias?",
            opciones: [
                { texto: "Son l√≠deres pol√≠ticos que toman decisiones unilaterales", esCorrecta: false },
                { texto: "Son gu√≠as espirituales que interpretan la Ley de Origen y orientan a la comunidad", esCorrecta: true },
                { texto: "Son ancianos sin un rol activo en la comunidad actual", esCorrecta: false }
            ],
            explicacion: "Los Mamos son autoridades espirituales que interpretan la Ley de Origen, gu√≠an a la comunidad y toman decisiones basadas en su sabidur√≠a ancestral."
        },
        {
            pregunta: "¬øPor qu√© el algod√≥n es considerado un elemento sagrado en su artesan√≠a y vestimenta?",
            opciones: [
                { texto: "Porque es f√°cil de conseguir y trabajar", esCorrecta: false },
                { texto: "Porque representa la conexi√≥n entre la Madre Tierra y el pensamiento puro", esCorrecta: true },
                { texto: "Porque es resistente al clima de la Sierra Nevada", esCorrecta: false }
            ],
            explicacion: "El algod√≥n es s√≠mbolo de pureza y pensamiento, usado en rituales y tejidos sagrados por los Arhuacos, representando la conexi√≥n con la Madre Tierra."
        },
        {
            pregunta: "¬øC√≥mo interpretan los Arhuacos los sue√±os como herramienta de gu√≠a espiritual y toma de decisiones?",
            opciones: [
                { texto: "Los consideran mensajes espirituales importantes que gu√≠an sus decisiones", esCorrecta: true },
                { texto: "Son solo experiencias aleatorias sin significado especial", esCorrecta: false },
                { texto: "Son vistos como supersticiones sin relevancia en la vida diaria", esCorrecta: false }
            ],
            explicacion: "Los sue√±os son considerados mensajes de los esp√≠ritus y ancestros, que los Mamos interpretan para guiar a la comunidad en la toma de decisiones importantes."
        }
    ],
    practicas: [
        {
            pregunta: "¬øPor qu√© el poporo es un objeto sagrado para los Arhuacos y qu√© simboliza su uso en rituales?",
            opciones: [
                { texto: "Es un simple recipiente para guardar hojas de coca", esCorrecta: false },
                { texto: "Simboliza el √∫tero femenino y la continuidad de la vida", esCorrecta: true },
                { texto: "Es un objeto decorativo sin mayor significado", esCorrecta: false }
            ],
            explicacion: "El poporo es un objeto ritual que representa el √∫tero femenino y la continuidad de la vida. Su uso en rituales con hojas de coca y conchas molidas simboliza la armon√≠a y el equilibrio c√≥smico."
        },
        {
            pregunta: "¬øC√≥mo se elaboran las mochilas Arhuacas y qu√© significan sus dise√±os y colores?",
            opciones: [
                { texto: "Son tejidas a mano con dise√±os que representan elementos de la naturaleza y la cosmovisi√≥n Arhuaca", esCorrecta: true },
                { texto: "Son compradas en el mercado con dise√±os modernos", esCorrecta: false },
                { texto: "Son hechas con m√°quinas de tejer industriales", esCorrecta: false }
            ],
            explicacion: "Las mochilas Arhuacas son tejidas a mano por las mujeres, con dise√±os que representan elementos de la naturaleza y la cosmovisi√≥n de su pueblo. Cada color y patr√≥n tiene un significado espiritual y cultural profundo."
        },
        {
            pregunta: "¬øC√≥mo se prepara f√≠sica y espiritualmente un joven Arhuaco para convertirse en Mamo?",
            opciones: [
                { texto: "Asistiendo a una universidad occidental", esCorrecta: false },
                { texto: "A trav√©s de un riguroso entrenamiento espiritual en las monta√±as sagradas", esCorrecta: true },
                { texto: "Participando en concursos de conocimiento", esCorrecta: false }
            ],
            explicacion: "Los futuros Mamos son seleccionados desde ni√±os y pasan por un largo per√≠odo de aislamiento en las monta√±as sagradas, donde aprenden los secretos de la naturaleza, la medicina tradicional y la sabidur√≠a ancestral."
        },
        {
            pregunta: "¬øQu√© papel juegan los cantos tradicionales (Iku) en los rituales de sanaci√≥n?",
            opciones: [
                { texto: "Son solo entretenimiento durante las ceremonias", esCorrecta: false },
                { texto: "Son herramientas poderosas para la sanaci√≥n f√≠sica y espiritual", esCorrecta: true },
                { texto: "Son canciones populares sin prop√≥sito espec√≠fico", esCorrecta: false }
            ],
            explicacion: "Los cantos tradicionales Iku son considerados herramientas poderosas de sanaci√≥n que conectan al individuo con las fuerzas espirituales y ayudan a restaurar el equilibrio energ√©tico."
        }
    ],
    sagrado: [
        {
            pregunta: "¬øQu√© estrategias ha implementado el pueblo Arhuaco para defender su territorio ante proyectos extractivos?",
            opciones: [
                { texto: "Han abandonado sus territorios tradicionales", esCorrecta: false },
                { texto: "Han establecido sistemas de vigilancia comunitaria y acciones legales", esCorrecta: true },
                { texto: "Han permitido el ingreso de empresas mineras con ciertas condiciones", esCorrecta: false }
            ],
            explicacion: "Los Arhuacos han implementado diversas estrategias como la creaci√≥n de guardias ind√≠genas, acciones legales, y la difusi√≥n de su situaci√≥n a nivel internacional para proteger sus territorios sagrados."
        },
        {
            pregunta: "¬øC√≥mo funciona su gobierno propio y qu√© rol juegan las guardias ind√≠genas en la protecci√≥n de la Sierra Nevada?",
            opciones: [
                { texto: "No tienen un sistema organizado de gobierno", esCorrecta: false },
                { texto: "Tienen una estructura de gobierno tradicional que incluye Mamos y autoridades comunitarias", esCorrecta: true },
                { texto: "Siguen las mismas leyes del gobierno colombiano sin adaptaciones", esCorrecta: false }
            ],
            explicacion: "Los Arhuacos tienen un sistema de gobierno propio basado en la Ley de Origen, donde los Mamos son las m√°ximas autoridades espirituales y las decisiones se toman en asambleas comunitarias. Las guardias ind√≠genas protegen el territorio de amenazas externas."
        },
        {
            pregunta: "¬øC√≥mo protegen los Arhuacos los lugares sagrados (como r√≠os y monta√±as) de amenazas externas (miner√≠a, turismo)?",
            opciones: [
                { texto: "Permiten el acceso controlado a turistas y empresas", esCorrecta: false },
                { texto: "Establecen cercas y restricciones de acceso basadas en su cosmovisi√≥n", esCorrecta: true },
                { texto: "No toman medidas especiales de protecci√≥n", esCorrecta: false }
            ],
            explicacion: "Los Arhuacos protegen sus lugares sagrados a trav√©s de la educaci√≥n comunitaria, la resistencia pac√≠fica, y la aplicaci√≥n de sus propias leyes ancestrales, limitando el acceso a estos espacios seg√∫n su cosmovisi√≥n."
        },
        {
            pregunta: "¬øC√≥mo definen los Arhuacos los l√≠mites de la 'L√≠nea Negra' y qu√© herramientas usan para protegerla?",
            opciones: [
                { texto: "Es un l√≠mite geopol√≠tico establecido por el gobierno", esCorrecta: false },
                { texto: "Es un territorio sagrado que incluye sitios ceremoniales y ecosistemas vitales", esCorrecta: true },
                { texto: "Es una zona de explotaci√≥n de recursos naturales", esCorrecta: false }
            ],
            explicacion: "La L√≠nea Negra es un territorio sagrado que los Arhuacos definen como un espacio de equilibrio ecol√≥gico y espiritual, que incluye sitios ceremoniales, nacimientos de agua y ecosistemas vitales. La protegen mediante la vigilancia comunitaria y acciones legales."
        },
        {
            pregunta: "¬øQu√© consecuencias espirituales creen que ocurrir√≠an si un lugar sagrado como el r√≠o Guatapur√≠ es contaminado?",
            opciones: [
                { texto: "No tiene consecuencias importantes", esCorrecta: false },
                { texto: "Puede romper el equilibrio espiritual y afectar la salud del pueblo", esCorrecta: true },
                { texto: "Solo afecta a los peces", esCorrecta: false }
            ],
            explicacion: "La contaminaci√≥n de un r√≠o sagrado puede alterar el equilibrio del territorio y causar desarmon√≠a espiritual seg√∫n los Mamos, afectando tanto a la comunidad como al ecosistema en su conjunto."
        },
        {
            pregunta: "¬øExisten lugares sagrados compartidos con los pueblos Kogui, Wiwa o Kankuamo? ¬øC√≥mo los gestionan?",
            opciones: [
                { texto: "No comparten lugares sagrados con otros pueblos", esCorrecta: false },
                { texto: "S√≠, comparten sitios sagrados y los gestionan mediante acuerdos inter√©tnicos", esCorrecta: true },
                { texto: "Cada pueblo tiene sus propios lugares sin coordinaci√≥n entre ellos", esCorrecta: false }
            ],
            explicacion: "Los pueblos ind√≠genas de la Sierra Nevada comparten algunos sitios sagrados y han establecido acuerdos inter√©tnicos para su protecci√≥n y gesti√≥n conjunta, respetando las tradiciones de cada pueblo."
        },
        {
            pregunta: "¬øC√≥mo se integra el conocimiento geogr√°fico ancestral con los mapas digitales (SIG) en su lucha territorial?",
            opciones: [
                { texto: "Rechazan completamente la tecnolog√≠a moderna", esCorrecta: false },
                { texto: "Combinan su conocimiento ancestral con tecnolog√≠a SIG para documentar y proteger su territorio", esCorrecta: true },
                { texto: "Solo conf√≠an en la memoria oral sin registros f√≠sicos o digitales", esCorrecta: false }
            ],
            explicacion: "Los Arhuacos han aprendido a integrar los Sistemas de Informaci√≥n Geogr√°fica (SIG) con su conocimiento ancestral para mapear y documentar su territorio, fortaleciendo as√≠ sus estrategias de defensa territorial y gesti√≥n ambiental."
        }
    ]
};

// Variables globales
let categoriaActual = 'cultura';

// Funci√≥n para mostrar/ocultar preguntas
document.getElementById('btn-actividades').addEventListener('click', function() {
    const contenedor = document.getElementById('contenedor-preguntas');
    const boton = document.getElementById('btn-actividades');
    
    if (contenedor.style.display === 'none') {
        contenedor.style.display = 'block';
        boton.textContent = 'Ocultar actividades';
        cargarPreguntas(categoriaActual);
    } else {
        contenedor.style.display = 'none';
        boton.textContent = 'Iniciar actividad';
    }
});

// Funci√≥n para cargar preguntas de una categor√≠a
function cargarPreguntas(categoria) {
    const contenedor = document.querySelector('.preguntas-container');
    contenedor.innerHTML = ''; // Limpiar preguntas anteriores
    
    if (!preguntas[categoria] || preguntas[categoria].length === 0) {
        contenedor.innerHTML = '<p>No hay preguntas disponibles en esta categor√≠a.</p>';
        return;
    }
    
    preguntas[categoria].forEach((pregunta, index) => {
        const preguntaElement = document.createElement('div');
        preguntaElement.className = 'pregunta';
        preguntaElement.innerHTML = `
            <h4>Pregunta ${index + 1}: ${pregunta.pregunta}</h4>
            <div class="opciones">
                ${pregunta.opciones.map((opcion, i) => 
                    `<div class="opcion" data-correcta="${opcion.esCorrecta}">
                        ${String.fromCharCode(65 + i)}) ${opcion.texto}
                    </div>`
                ).join('')}
            </div>
            <div class="explicacion">
                <strong>Explicaci√≥n:</strong> ${pregunta.explicacion}
            </div>
        `;
        contenedor.appendChild(preguntaElement);
    });
    
    // Agregar event listeners a las opciones
    document.querySelectorAll('.opcion').forEach(opcion => {
        opcion.addEventListener('click', function() {
            const esCorrecta = this.getAttribute('data-correcta') === 'true';
            const explicacion = this.closest('.pregunta').querySelector('.explicacion');
            
            // Remover clases de selecci√≥n previas
            this.parentNode.querySelectorAll('.opcion').forEach(opt => {
                opt.classList.remove('correcta', 'incorrecta');
            });
            
            // Aplicar clase seg√∫n si es correcta o no
            if (esCorrecta) {
                this.classList.add('correcta');
            } else {
                this.classList.add('incorrecta');
                // Mostrar cu√°l era la correcta
                this.parentNode.querySelector('[data-correcta="true"]').classList.add('correcta');
            }
            
            // Mostrar explicaci√≥n
            if (explicacion) {
                explicacion.style.display = 'block';
            }
        });
    });
}

// Event listeners para las pesta√±as
document.querySelectorAll('.tab-btn').forEach(boton => {
    boton.addEventListener('click', function() {
        // Remover clase activa de todos los botones
        document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
        // Agregar clase activa al bot√≥n clickeado
        this.classList.add('active');
        // Actualizar categor√≠a actual y cargar preguntas
        categoriaActual = this.getAttribute('data-categoria');
        cargarPreguntas(categoriaActual);
    });
});

// Cargar preguntas de la categor√≠a por defecto al inicio
if (document.getElementById('contenedor-preguntas').style.display === 'block') {
    cargarPreguntas(categoriaActual);
}

// Base de datos de videos
const videos = [
    {
        titulo: "La Ley de Origen - Sabidur√≠a Arhuaca",
        descripcion: "Documental sobre los principios fundamentales de la Ley de Origen en la cultura Arhuaca.",
        url: "https://www.youtube.com/embed/L_yP7m_SaRc"
    },
    {
        titulo: "Tejidos y Simbolismo",
        descripcion: "El significado profundo de los tejidos tradicionales Arhuacos y su conexi√≥n con la naturaleza.",
        url: "https://www.youtube.com/embed/Qu1FrjSGvX0"
    },
    {
        titulo: "Rituales de la Sierra Nevada",
        descripcion: "Una mirada respetuosa a los rituales sagrados de los pueblos de la Sierra Nevada.",
        url: "https://www.youtube.com/embed/nv3_aPJ8GNk"
    }
];

// Funci√≥n para cargar videos
function cargarVideos() {
    const contenedor = document.querySelector('.videos-lista');
    if (!contenedor) return;
    
    contenedor.innerHTML = videos.map(video => `
        <div class="video-item">
            <div class="video-container">
                <iframe src="${video.url}" 
                        frameborder="0" 
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                        allowfullscreen></iframe>
            </div>
            <div class="video-info">
                <h5>${video.titulo}</h5>
                <p>${video.descripcion}</p>
            </div>
        </div>
    `).join('');
}

// Mostrar/ocultar videos
document.getElementById('btn-videos')?.addEventListener('click', function() {
    const contenedor = document.getElementById('contenedor-videos');
    const boton = document.getElementById('btn-videos');
    
    if (contenedor.style.display === 'none') {
        contenedor.style.display = 'block';
        boton.textContent = 'Ocultar videos';
        cargarVideos();
    } else {
        contenedor.style.display = 'none';
        boton.textContent = 'Ver videos';
    }
});

// Base de datos de gu√≠as (en un entorno real, esto vendr√≠a de un servidor)
let guias = [
    {
        id: 1,
        titulo: "Gu√≠a de la Lengua Iku",
        archivo: "guia_lengua_iku.pdf",
        fecha: "15/07/2023",
        tamano: "2.4 MB"
    },
    {
        id: 2,
        titulo: "Historia del Pueblo Arhuaco",
        archivo: "historia_arhuacos.pdf",
        fecha: "01/06/2023",
        tamano: "3.1 MB"
    }
];

// Funci√≥n para cargar las gu√≠as
function cargarGuias() {
    const contenedor = document.querySelector('.guias-lista');
    if (!contenedor) return;
    
    if (guias.length === 0) {
        contenedor.innerHTML = '<p style="grid-column: 1 / -1; text-align: center; color: #666;">No hay gu√≠as disponibles actualmente.</p>';
        return;
    }
    
    contenedor.innerHTML = guias.map(guia => `
        <div class="guia-item">
            <div class="guia-icono">üìÑ</div>
            <div class="guia-info">
                <h5>${guia.titulo}</h5>
                <p>${guia.tamano} ‚Ä¢ ${guia.fecha}</p>
                <a href="#" class="descargar-btn" data-archivo="${guia.archivo}">
                    Descargar
                </a>
            </div>
        </div>
    `).join('');
    
    // Agregar manejadores de eventos para los botones de descarga
    document.querySelectorAll('.descargar-btn').forEach(boton => {
        boton.addEventListener('click', function(e) {
            e.preventDefault();
            const archivo = this.getAttribute('data-archivo');
            alert(`Iniciando descarga de: ${archivo}\n\n(En un entorno real, esto descargar√≠a el archivo del servidor)`);
            // Aqu√≠ ir√≠a la l√≥gica para descargar el archivo
        });
    });
}

// Mostrar/ocultar gu√≠as
document.getElementById('btn-guias')?.addEventListener('click', function() {
    const contenedor = document.getElementById('contenedor-guias');
    const boton = document.getElementById('btn-guias');
    
    if (contenedor.style.display === 'none') {
        contenedor.style.display = 'block';
        boton.textContent = 'Ocultar gu√≠as';
        cargarGuias();
    } else {
        contenedor.style.display = 'none';
        boton.textContent = 'Ver gu√≠as';
    }
});

// Manejar el env√≠o del formulario
document.getElementById('form-subir-guia')?.addEventListener('submit', function(e) {
    e.preventDefault();
    
    const titulo = document.getElementById('titulo-guia').value;
    const archivoInput = document.getElementById('archivo-guia');
    const archivo = archivoInput.files[0];
    
    if (!archivo) {
        alert('Por favor selecciona un archivo PDF');
        return;
    }
    
    // Aqu√≠ ir√≠a la l√≥gica para subir el archivo al servidor
    // Por ahora, simulamos que se subi√≥ correctamente
    const nuevaGuia = {
        id: Date.now(),
        titulo: titulo,
        archivo: archivo.name,
        fecha: new Date().toLocaleDateString(),
        tamano: (archivo.size / (1024 * 1024)).toFixed(1) + ' MB'
    };
    
    guias.unshift(nuevaGuia);
    cargarGuias();
    
    // Limpiar el formulario
    this.reset();
    
    alert(`¬°La gu√≠a "${titulo}" se ha subido correctamente!`);
});
</script>
{% endblock %}